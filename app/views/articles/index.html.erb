<p class="text-success"><%= notice %></p>
<% content_for :title, "Articles" %>
<div class="mx-auto max-w-7xl h-screen flex flex-col">
  <p class="font-bold text-3xl pt-3 text-base-content inline-block pb-1 mb-4">
    All Article
  </p>
  <div class="bg-base-200 p-6 rounded-2xl shadow-lg flex-1 flex flex-col">
    <div class="overflow-y-auto flex-1 pr-2">
      <div id="articles" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 pb-5">
        <% @articles.each do |article| %>
          <div class="bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-col border border-gray-200 h-full">
            <%= link_to article, class: "flex flex-col flex-grow hover:bg-gray-50 transition" do %>
              <%= image_tag article.cover_image.attached? ? url_for(article.cover_image) : "poster.jpg",
                  class: "w-full h-48 object-cover" %>
              <div class="p-5 flex flex-col flex-grow">
                <h2 class="text-lg font-semibold text-gray-900 line-clamp-2 mb-2" data-testid="article-title">
                  <%= article.title %>
                </h2>
                <p class="text-gray-600 text-sm line-clamp-3 flex-grow">
                  <%= truncate(article.description, length: 120) %>
                </p>
              </div>
            <% end %>
            <div class="p-5 pt-0 mt-auto">
              <%= link_to "Show this article", article,
                  class: "w-full inline-block text-center bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:from-purple-500 hover:to-red-500 text-white font-semibold py-2 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300" %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
